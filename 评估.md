
### **0. 报告分析**

1. **分析误差分布**：
    
    - `p50` 和 `p80` 值较低，表示大多数预测误差较小。
    - `p90` 和 `p99` 值较大，表示存在少量预测偏差较大的查询。
2. **分析图表**：
    
    - 如果大多数点接近对角线，说明预测效果较好。
    - 如果点偏离严重，说明模型存在偏差，需要改进。

### **评估报告与结果分析**

#### **1. 数据检查与结果文件**

从你提供的文件和图像内容来看，我们已经成功生成了模型评估的对比图以及误差统计报告。

- **报告文件 (`report.md`)** 【102】：
    - 包含两种模型 (`AI1` 和 `AI2`) 的 `p50`, `p80`, `p90`, 和 `p99` 误差分布统计。
- **结果数据 (`results.json`)** 【103】：
    - 记录了模型预测的估计值 (`est_rows`) 和实际值 (`act_rows`)。
- **预测与实际对比图 (`AI1.png` 和 `AI2.png`)**：
    - 图表展示了模型预测值和真实值的关系。

---

#### **2. 错误分布报告分析**

|name|p50|p80|p90|p99|
|---|---|---|---|---|
|AI1|2.73|79.18|351017.84|549919.25|
|AI2|2.66|82.65|342835.38|566063.81|

- **`p50` (中位误差)**：
    
    - 两个模型在中位数误差上表现较好，约为 `2.7`。
    - 表明大部分预测值和实际值之间的误差较小。
- **`p80` 和 `p90`**：
    
    - 随着分位数增加，误差逐渐增大，特别是 `p90` 和 `p99` 表现出较大差异。
    - 这说明在部分查询上，模型存在较大的误差。
- **`p99` (极端误差)**：
    
    - `AI2` 的极端误差比 `AI1` 略高，显示在一些查询上 `AI2` 的预测值与实际值差距更大。

---

#### **3. 预测与实际对比图分析**

- **图像解读**：
    
    - 横轴：实际值 (`act_rows`)。
    - 纵轴：预测值 (`est_rows`)。
    - 对角线：理想情况下的预测结果。
- **AI1 与 AI2 的对比图 (上图)**：
    
    - **集中性**：大部分点分布在对角线附近，表明模型总体预测较为准确。
    - **散点分布**：
        - 存在一些点远离对角线（偏离较大），特别是在 `act_rows` 较大时，误差较为显著。
    - **趋势性**：
        - 随着实际值增大，模型预测的离散性增大（更容易产生高误差）。

---

### **改进与优化建议**

1. **针对误差分布优化**：
    
    - 重点分析误差较大的查询（如 `p99` 对应的查询），检查这些查询是否有特殊规律或模型未捕捉的特征。
2. **特征工程**：
    
    - 增加更多的特征，例如：
        - 每列的最大值、最小值、分布类型。
        - 查询的复杂性（如筛选条件的数量、是否包含多个范围条件）。
3. **模型改进**：
    
    - 尝试更复杂的神经网络模型或其他机器学习算法（如 XGBoost）。
    - 调整当前模型的参数，比如增加层数或神经元数量，观察对误差分布的影响。
4. **异常值处理**：
    
    - 针对部分离群点进行处理，使用加权误差函数或数据增强，提升模型在特殊场景下的鲁棒性。
5. **模型融合**：
    
    - 将 `AI1` 和 `AI2` 的预测结果进行加权融合，以减少单一模型的偏差。